<!doctype html>
<html lang="el">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Προϊόντα | Pantazis Euronics</title>
  <meta name="description" content="Δες όλα τα προϊόντα μας με φίλτρα ανά κατηγορία και αναζήτηση. Τηλεοράσεις, υπολογιστές, λευκές συσκευές, κλιματισμός και πολλά ακόμα." />
  <link rel="preload" href="style.css" as="style">
  <link rel="stylesheet" href="style.css" />
  <link rel="canonical" href="/products.html" />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">


</head>


<body>
  <a href="#main" class="skip">Μετάβαση στο περιεχόμενο</a>
  <!-- Nav  -->
  <nav class="nav" aria-label="Κύρια πλοήγηση">
    <div class="container nav-inner">
      <a href="index.html" class="logo" aria-label="Αρχική">
        <span class="logo-star" aria-hidden="true">★</span>
        <div class="brand-wrap">
          <div class="brand">euronics</div>
          <div class="sub">ΠΑΝΤΑΖΗΣ • Ηγουμενίτσα</div>
        </div>
      </a>
      <button class="hamb" aria-label="Μενού" aria-expanded="false" aria-controls="menu">☰</button>
      <div id="menu" class="menu">
        <a href="products.html" aria-current="page">Προϊόντα</a>
        <a href="index.html#services" >Υπηρεσίες</a>
        <a href="index.html#brands" >Μάρκες</a>
        <a href="index.html#reviews" >Αξιολογήσεις</a>
        <a href="index.html#faq" >Συχνές Ερωτήσεις</a>
        <a href="contact.html" >Επικοινωνία</a>
      </div>
    </div>
  </nav>


  <main id="main" class="section">
    <div class="container">
      <h1>Προϊόντα</h1>
      <!-- Controls: Search + Dynamic Category Chips -->
      <div class="controls stack-m">
        <div class="searchbar" role="search">
          <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M15.5 14h-.8l-.3-.3a6.5 6.5 0 10-.7.7l.3.3v.8l5 5 1.5-1.5-5-5zM10 15a5 5 0 110-10 5 5 0 010 10z"/>
          </svg>
          <label class="sr-only" for="search">Αναζήτηση προϊόντων</label>
          <input id="search" type="search"
                placeholder="Αναζήτηση… (π.χ. τηλεόραση, 8kg, Dyson)"
                autocomplete="off" />
          <button type="button" id="clearSearch" class="clear" aria-label="Καθαρισμός αναζήτησης">×</button>
          <kbd class="slash" aria-hidden="true">/</kbd>
        </div>

        <!-- Το sort θα μπει αυτόματα εδώ από το inline JS του products.html -->
        <div id="chips" class="chips" role="tablist" aria-label="Φίλτρα κατηγορίας"></div>
      </div>

      <!-- Results meta -->
      <div id="meta" class="muted">Φόρτωση προϊόντων…</div>

      <!-- Grid -->
      <section id="grid" class="grid products" aria-live="polite" aria-busy="true"></section>
    </div>
  </main>

  <footer class="site-footer" role="contentinfo">
    <div class="container footer-top">
      <div class="footer-contacts">
        <!-- ΤΗΛΕΦΩΝΑ -->
        <div class="fc fc-phone">
          <h3>Τηλέφωνα</h3>
          <p class="phones">
            <a class="tel" href="tel:+302665409100" aria-label="Κλήση στο σταθερό 2665 409100">2665 409100</a>
            <span class="sep">•</span>
            <a class="tel" href="tel:+306959666060" aria-label="Κλήση στο κινητό 6959 66 6060">6959 66 6060</a>
          </p>
          <p class="msg">
            <a class="chip" href="https://wa.me/306959666060" target="_blank" rel="noopener noreferrer" aria-label="Μήνυμα στο WhatsApp">
              WhatsApp
            </a>
            <a class="chip" href="viber://chat?number=%2B306959666060" aria-label="Μήνυμα στο Viber">
              Viber
            </a>
          </p>
        </div>

        <!-- EMAIL -->
        <div class="fc fc-email">
          <h3>Email</h3>
          <p><a href="mailto:pantazis@euronics.gr">pantazis@euronics.gr</a></p>
        </div>

        <!-- ΔΙΕΥΘΥΝΣΗ -->
        <div class="fc fc-address">
          <h3>Διεύθυνση</h3>
          <p>
            <a href="https://www.google.com/maps/place/Euronics+%CE%A0%CE%B1%CE%BD%CF%84%CE%B1%CE%B6%CE%AE%CF%82/@39.4972044,20.2607816,17z/data=!3m1!4b1!4m6!3m5!1s0x135b7fef5e9b44c1:0x2e7c6b0351777df1!8m2!3d39.4972045!4d20.2656525!16s%2Fg%2F11rndhl_5c?entry=ttu&g_ep=EgoyMDI1MDgzMC4wIKXMDSoASAFQAw%3D%3D" target="_blank" rel="noopener noreferrer" aria-label="Άνοιγμα στο Google Maps">
              49 Μαρτύρων 15 — Ηγουμενίτσα
            </a>
          </p>
        </div>

        <!-- SOCIAL -->
        <div class="fc fc-social">
          <h3>Social</h3>
          <p class="socials">
            <a class="social" href="https://www.instagram.com/pantaziseuronics/" target="_blank" rel="noopener noreferrer" aria-label="Instagram">
              <!-- Instagram SVG -->
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="24" height="24" fill="currentColor">
                <path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"/>
              </svg>
            </a>
            <a class="social" href="https://www.facebook.com/electro.pantazis/" target="_blank" rel="noopener noreferrer" aria-label="Facebook">
              <!-- Facebook SVG -->
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="24" height="24" fill="currentColor">
                <path d="M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5V334.2H141.4V256h52.8V222.3c0-87.1 39.4-127.5 125-127.5c16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1c-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287V510.1C413.8 494.8 512 386.9 512 256h0z"/>
              </svg>
            </a>
          </p>
        </div>
      </div>
    </div>

    <div class="container footer-bottom">
      <small>© <span id="y"></span> Euronics Πανταζής — Ηγουμενίτσα</small>
      <!-- <small class="madeby">Κατασκευή: <a href="https://github.com/EXARTeo" rel="author">EXARTeo</a></small> -->
    </div>
  </footer>


  <script src="script.js" defer></script>
  <script>
// ————— Products page bootstrap (sort + pagination + URL params) —————
(function () {
  const $  = (s,o=document)=>o.querySelector(s);
  const $$ = (s,o=document)=>[...o.querySelectorAll(s)];

  // DOM refs
  const grid      = $('#grid');
  const chipsWrap = $('#chips');
  const searchInput = $('#search');
  const meta      = $('#meta');

  // Create / get SORT select
  let sortSel = $('#sort');
  (function ensureSortControl(){
    if (!sortSel) {
      const controls = searchInput?.closest('.controls') || chipsWrap?.parentElement || document.body;
      const wrap = document.createElement('div');
      wrap.className = 'control-inline';

      const label = document.createElement('label');
      label.className = 'sr-only';
      label.htmlFor = 'sort';
      label.textContent = 'Ταξινόμηση';

      sortSel = document.createElement('select');
      sortSel.id = 'sort';
      sortSel.setAttribute('aria-label','Ταξινόμηση');
      sortSel.innerHTML = `
        <option value="reco">Προτεινόμενα</option>
        <option value="price_asc">Τιμή ↑</option>
        <option value="price_desc">Τιμή ↓</option>
        <option value="alpha">Αλφαβητικά Α–Ω</option>
      `;

      // Βάλε το πριν από τα chips (αν υπάρχουν)
      if (chipsWrap && controls) {
        wrap.append(label, sortSel);
        controls.insertBefore(wrap, chipsWrap);
      } else {
        // fallback: βάλε το μετά το search
        wrap.append(label, sortSel);
        controls.appendChild(wrap);
      }
    }
  })();

  // Create / get PAGER
  let pager = $('#pager');
  (function ensurePager(){
    if (!pager) {
      pager = document.createElement('nav');
      pager.id = 'pager';
      pager.className = 'pager';
      pager.setAttribute('aria-label','Πλοήγηση σελίδων');
      grid?.after(pager);
    }
  })();

  // State
  let ALL = [];
  let VIEW = [];
  let activeCat = 'all';
  let q = '';
  let page = 1;
  const PAGE_SIZE = 12; // άλλαξέ το ελεύθερα

  // Data fetch (προτίμηση σε window.getProducts())
  async function fetchProducts(){
    if (typeof window.getProducts === 'function') {
      try { return await window.getProducts(); } catch(_) {}
    }
    try {
      const res = await fetch('products.json', { cache: 'no-cache' });
      if (!res.ok) throw 0;
      const data = await res.json();
      return Array.isArray(data) ? data : [];
    } catch(e) {
      return [];
    }
  }

  // Utils
  const esc = s => String(s==null?'' : s)
    .replace(/[&<>\"']/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c]));

  const money = v => {
    if (v==null || v==='') return '';
    // normalise "1.099,00" -> 1099.00
    const n = Number(String(v).replace(/[^\d.,]/g,'').replace(/\./g,'').replace(',', '.'));
    if (!isFinite(n)) return esc(v);
    return new Intl.NumberFormat('el-GR', { style:'currency', currency:'EUR', maximumFractionDigits:0 }).format(n);
  };

  const num = v => {
    const n = Number(String(v ?? '').replace(/[^\d.,]/g,'').replace(/\./g,'').replace(',', '.'));
    return Number.isFinite(n) ? n : 0;
  };

  function sortList(list){
    if (!sortSel) return list;
    switch (sortSel.value) {
      case 'price_asc':  return list.sort((a,b)=> num(a.price) - num(b.price));
      case 'price_desc': return list.sort((a,b)=> num(b.price) - num(a.price));
      case 'alpha':      return list.sort((a,b)=> String(a.title||'').localeCompare(String(b.title||''), 'el'));
      default:           return list; // "reco"
    }
  }

  function fallbackCardTpl(p){
    const old = p.old ? `<span class="old">${money(p.old)}</span>` : '';
    const meta = p.meta ? `<p class="meta">${esc(p.meta)}</p>` : '';
    const imgAlt = esc(p.alt || p.title || 'Προϊόν');
    return `
      <article class="card" data-cat="${esc(p.cat||'')}" tabindex="0">
        <img src="${esc(p.img||'images/placeholder.jpg')}" alt="${imgAlt}" loading="lazy" width="800" height="600" />
        <div class="card-body">
          <h3 class="card-title">${esc(p.title||'Χωρίς τίτλο')}</h3>
          ${meta}
          <div class="price-row">${old}<span class="price">${money(p.price)}</span></div>
          ${p.badge ? `<span class="badge">${esc(p.badge)}</span>` : ''}
        </div>
      </article>`;
  }

  function buildChips(categories){
    if (!chipsWrap) return;
    chipsWrap.innerHTML = '';
    const cats = ['all', ...categories];
    for (const c of cats){
      const btn = document.createElement('button');
      btn.className = 'chip';
      btn.setAttribute('role','tab');
      btn.dataset.filter = c;
      btn.textContent = (c==='all' ? 'Όλα' : c);
      btn.addEventListener('click', ()=>{
        $$('.chip', chipsWrap).forEach(x=>x.classList.toggle('active', x===btn));
        activeCat = c;
        page = 1; // reset όταν αλλάζει κατηγορία
        render();
        updateURL();
      });
      chipsWrap.appendChild(btn);
    }
    // ενεργοποίηση του σωστού chip
    const toActivate = $(`.chip[data-filter="${CSS.escape(activeCat)}"]`, chipsWrap) || $('.chip', chipsWrap);
    toActivate?.click();
  }

  function updateURL(){
    const params = new URLSearchParams(location.search);
    if (activeCat && activeCat!=='all') params.set('cat', activeCat); else params.delete('cat');
    if (q) params.set('q', q); else params.delete('q');
    if (sortSel && sortSel.value && sortSel.value !== 'reco') params.set('sort', sortSel.value); else params.delete('sort');
    if (page && page > 1) params.set('page', String(page)); else params.delete('page');
    const qs = params.toString();
    history.replaceState(null, '', qs ? `?${qs}` : location.pathname);
  }

  function render(){
    if (!grid) return;

    // Φίλτρο
    let list = ALL.filter(p=>{
      const catOk = (activeCat==='all') || String(p.cat).toLowerCase() === activeCat.toLowerCase();
      if (!catOk) return false;
      if (!q) return true;
      const hay = [p.title, p.meta, p.cat, p.brand, p.sku].map(x=>String(x||'').toLowerCase()).join(' ');
      return hay.includes(q.toLowerCase());
    });

    // Ταξινόμηση
    list = sortList([...list]);

    // Σελιδοποίηση
    const total = list.length;
    const pages = Math.max(1, Math.ceil(total / PAGE_SIZE));
    page = Math.min(Math.max(1, page), pages);
    const start = (page - 1) * PAGE_SIZE;
    const subset = list.slice(start, start + PAGE_SIZE);
    VIEW = subset;

    const tpl = (typeof window.cardTpl === 'function') ? window.cardTpl : fallbackCardTpl;
    grid.setAttribute('aria-busy','true');
    grid.innerHTML = subset.map(tpl).join('') || '<p class="muted">Δεν βρέθηκαν προϊόντα με αυτά τα φίλτρα.</p>';
    grid.removeAttribute('aria-busy');

    // meta
    if (meta) {
      const metaText = [];
      metaText.push(total === 1 ? '1 προϊόν' : `${total} προϊόντα`);
      if (activeCat && activeCat!=='all') metaText.push(`• Κατηγορία: ${activeCat}`);
      if (q) metaText.push(`• Αναζήτηση: “${q}”`);
      meta.textContent = metaText.join(' ');
    }

    renderPager(total, pages);
  }

  function renderPager(total, pages){
    if (!pager) return;
    pager.innerHTML = '';

    const prev = document.createElement('button');
    prev.textContent = '‹ Προηγούμενη';
    prev.disabled = page <= 1;
    prev.addEventListener('click', ()=>{ page = Math.max(1, page - 1); render(); updateURL(); });

    const info = document.createElement('span');
    info.className = 'pageinfo';
    info.textContent = `Σελίδα ${page} από ${pages}`;

    const next = document.createElement('button');
    next.textContent = 'Επόμενη ›';
    next.disabled = page >= pages;
    next.addEventListener('click', ()=>{ page = Math.min(pages, page + 1); render(); updateURL(); });

    pager.append(prev, info, next);
  }

  function initFromURL(){
    const params = new URLSearchParams(location.search);
    activeCat = params.get('cat') || 'all';
    q = params.get('q') || '';
    if (q && searchInput) searchInput.value = q;
    const sort = params.get('sort');
    if (sort && sortSel) sortSel.value = sort;
    const p = parseInt(params.get('page')||'1', 10);
    page = Number.isFinite(p) && p > 0 ? p : 1;
  }

  // Start
  (async function(){
    initFromURL();
    ALL = await fetchProducts();

    // Δυναμικές κατηγορίες από τα δεδομένα
    const cats = [...new Set(ALL.map(p => String(p.cat||'').trim()).filter(Boolean))];
    buildChips(cats);

    // Search
    searchInput?.addEventListener('input', (e)=>{
      q = e.target.value.trim();
      page = 1;
      render();
      updateURL();
    });

    // Sorting
    sortSel?.addEventListener('change', ()=>{
      page = 1;
      render();
      updateURL();
    });

    // First render
    render();
  })();
})();
</script>

<script>
  (function(){
    const input = document.getElementById('search');
    const clear = document.getElementById('clearSearch');
    const wrap  = input?.closest('.searchbar');

    function sync(){
      wrap?.classList.toggle('has-value', !!input?.value.trim());
    }

    input?.addEventListener('input', sync);

    clear?.addEventListener('click', () => {
      if(!input) return;
      input.value = '';
      // Πες στο υπάρχον φίλτρο να ξανατρέξει:
      input.dispatchEvent(new Event('input', { bubbles:true }));
      input.focus();
    });

    // Shortcut: "/" για focus στο search – Esc για καθαρισμό
    document.addEventListener('keydown', (e) => {
      const el = document.activeElement;
      const typing = el && (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA' || el.isContentEditable);

      if (!typing && e.key === '/') {
        e.preventDefault();
        input?.focus();
      } else if (typing && e.key === 'Escape' && el === input) {
        if (input.value) {
          input.value = '';
          input.dispatchEvent(new Event('input', { bubbles:true }));
        } else {
          input.blur();
        }
      }
    });

    sync();
  })();
</script>


<script>
(function(){
  // Map κωδικών -> ελληνικά labels
  const GR_LABELS = {
    av: 'Εικόνα & Ήχος',
    imaging: 'Φωτογραφία & Video',
    computing: 'Υπολογιστές',
    telephony: 'Τηλεφωνία',
    gaming: 'Gaming',
    climate: 'Κλιματισμός & Θέρμανση',
    appliances: 'Λευκές Συσκευές',
    home: 'Οικιακός Εξοπλισμός',
    personal: 'Προσωπική Φροντίδα'
  };

  // Μεταφράζει/ενημερώνει τα chips χωρίς να πειράζει data attributes
  function localizeChips(){
    const chips = document.querySelectorAll('#chips .chip');
    chips.forEach(chip => {
      const cat = chip.dataset.cat || chip.getAttribute('data-cat') || chip.textContent.trim();
      const label = GR_LABELS[cat] || chip.textContent.trim();
      chip.textContent = label;
      chip.setAttribute('aria-label', label);
      chip.title = label;
    });
  }

  // Ενημέρωση μετρητή ενεργών φίλτρων (αν η λογική σου κρατά .active)
  function updateFilterCount(){
    const n = document.querySelectorAll('#chips .chip.active').length;
    const el = document.getElementById('filterCount');
    if(!el) return;
    el.textContent = n ? `${n} ενεργό${n>1?'α':''}` : '';
  }

  // Παρακολούθηση του #chips για δυναμικές αλλαγές από το script σου
  const chipsWrap = document.getElementById('chips');
  if (chipsWrap){
    const mo = new MutationObserver(() => { localizeChips(); updateFilterCount(); });
    mo.observe(chipsWrap, { childList:true });
  }
  // Αρχικοποίηση
  localizeChips(); updateFilterCount();

  // Όταν αλλάζει active chip, ανανέωσε τον μετρητή (μικρό timeout για να “προλάβει” το existing script)
  document.addEventListener('click', (e)=>{
    if(e.target.closest('#chips .chip')){
      setTimeout(updateFilterCount, 0);
    }
  });

  // Mobile: κλειστά φίλτρα, Desktop/Tablet: ανοικτά
  function syncFiltersOpen(){
    const filters = document.getElementById('filters');
    if(!filters) return;
    if (window.matchMedia('(max-width: 768px)').matches){
      filters.open = false;
    } else {
      filters.open = true;
    }
  }
  window.addEventListener('resize', syncFiltersOpen);
  syncFiltersOpen();
})();
</script>


</body>
</html>
